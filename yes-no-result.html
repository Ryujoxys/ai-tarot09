<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>是否占卜结果 - Tarot09</title>
    <meta name="description" content="查看您的是否塔罗牌占卜结果，获得来自塔罗牌的启示和指引。">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/page-styles/yes-no-result.css">    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- 导航栏 -->
    <nav class="navbar">
        <div class="container">
            <div class="logo">
                <a href="index.html">
                    <span>🔮</span>
                    <span>Tarot09</span>
                </a>
            </div>
            
            <button class="menu-toggle" aria-label="菜单">
                <i class="fas fa-bars"></i>
            </button>
            
            <div class="nav-capsules">
                <!-- 主导航胶囊 -->
                <div class="nav-capsule main-nav-capsule">
                    <div class="nav-menu">
                        <ul>
                            <li><a href="index.html" class="nav-link">首页</a></li>
                            <li><a href="ai-taluopai.html" class="nav-link">AI塔罗占卜</a></li>
                            <li><a href="yes-no-tarot.html" class="nav-link active">是否塔罗占卜</a></li>
                            <li><a href="javascript:void(0)" class="nav-link premium" id="premiumLink"><i class="fas fa-crown"></i> 会员订阅</a></li>
                        </ul>
                    </div>
                </div>
                
                <!-- 用户控制胶囊 -->
                <div class="nav-capsule user-controls-capsule">
                    <div class="user-controls">
                        <button class="theme-toggle" aria-label="切换主题">
                            <i class="fas fa-moon"></i>
                            <i class="fas fa-sun"></i>
                        </button>
                        <button class="language-toggle" aria-label="切换语言">
                            <i class="fas fa-globe"></i>
                        </button>
                        <a href="javascript:void(0)" class="user-profile">
                            😊
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- 主要内容 -->
    <main>
        <div class="result-container">
            <!-- 装饰性星星 -->
            <div class="result-stars">
                <div class="star" style="top: 15%; left: 10%;"></div>
                <div class="star" style="top: 25%; left: 85%;"></div>
                <div class="star" style="top: 65%; left: 20%;"></div>
                <div class="star" style="top: 80%; left: 70%;"></div>
                <div class="star" style="top: 40%; left: 90%;"></div>
                <div class="star" style="top: 30%; left: 25%;"></div>
                <div class="star" style="top: 75%; left: 40%;"></div>
                <div class="star" style="top: 90%; left: 10%;"></div>
            </div>
            
            <div class="result-header">
                <h1 class="result-title">您的是否塔罗占卜结果</h1>
                <div class="result-question" id="resultQuestion">您的问题：未知</div>
                <div class="result-date" id="resultDate">2023年12月30日 19:42</div>
            </div>
            
            <div class="result-content">
                <div class="card-container">
                    <div class="tarot-card" id="tarotCard">
                        <div class="card-face card-back"></div>
                        <div class="card-face card-front">
                            <img src="images/17星星.jpg" alt="塔罗牌" class="card-image" id="cardImage">
                        </div>
                    </div>
                </div>
                
                <h2 class="card-name" id="cardName">星星牌</h2>
                <div class="card-orientation" id="cardOrientation">正位</div>
                
                <div class="answer-container">
                    <h3 class="answer-header">塔罗牌对您问题的回答：</h3>
                    <div class="answer-result answer-yes" id="answerResult">是</div>
                </div>
                
                <div class="result-explanation">
                    <h3 class="explanation-title">牌意解读</h3>
                    <p class="explanation-text" id="explanationText">
                        星星牌是希望与启示的象征。这张牌出现在您的是否占卜中，表明宇宙正在向您传递积极的信号。它代表着更新、希望和内在指引，暗示您正走在正确的道路上。
                    </p>
                    <p class="explanation-text">
                        星星牌告诉您，现在是跟随您的直觉前行的时刻。无论您面临什么选择或决定，这张牌都鼓励您保持信心和耐心。即使道路可能看起来漫长或充满挑战，星星的光芒将指引您找到方向。
                    </p>
                </div>
            </div>
            
            <div class="result-actions">
                <a href="yes-no-question.html" class="action-button">
                    <i class="fas fa-redo action-icon"></i>
                    重新占卜
                </a>
                <a href="javascript:void(0)" class="action-button" id="saveResult">
                    <i class="fas fa-save action-icon"></i>
                    保存结果
                </a>
            </div>
        </div>
    </main>

    <!-- 页脚 -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="copyright">
                    © 2023 AI塔罗牌 - 版权所有
                </div>
                <div class="footer-links">
                    <a href="javascript:void(0)">关于我们</a>
                    <a href="javascript:void(0)">隐私政策</a>
                    <a href="javascript:void(0)">使用条款</a>
                    <a href="javascript:void(0)">联系我们</a>
                    <a href="javascript:void(0)">问题反馈</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- 会员订阅弹窗 -->
    <div class="modal-overlay" id="subscriptionModal">
        <div class="subscription-modal">
            <div class="modal-header">
                <h3 class="modal-title">升级会员</h3>
                <p class="modal-subtitle">享受无限次塔罗占卜和更多高级功能</p>
            </div>
            
            <div class="plan-options">
                <div class="plan-option" data-plan="monthly">
                    <div class="plan-name">
                        月度会员 <span class="plan-price">¥18.00</span>
                    </div>
                    <p class="plan-description">每月自动续费，随时可取消</p>
                </div>
                
                <div class="plan-option selected" data-plan="quarterly">
                    <div class="plan-name">
                        季度会员 <span class="plan-price">¥48.00</span>
                    </div>
                    <p class="plan-description">每三个月自动续费，相当于每月¥16.00</p>
                </div>
                
                <div class="plan-option" data-plan="yearly">
                    <div class="plan-name">
                        年度会员 <span class="plan-price">¥168.00</span>
                    </div>
                    <p class="plan-description">每年自动续费，相当于每月¥14.00，最划算</p>
                </div>
            </div>
            
            <div class="modal-footer">
                <button class="cancel-button" id="cancelSubscription">取消</button>
                <button class="subscribe-button" id="confirmSubscription">确认订阅</button>
            </div>
            
            <div class="term-conditions">
                <p>订阅即表示您同意我们的服务条款和隐私政策。可在到期前24小时取消自动续订。</p>
            </div>
        </div>
    </div>

    <!-- 导入订阅模块脚本 -->
    <script src="js/subscription.js"></script>
    <!-- 导入测试脚本 -->
    <script src="js/test-subscription.js"></script>
    <!-- 导入导航栏模块脚本 -->
    <script src="js/navbar.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 塔罗牌数据库 - 示例数据，实际应用中可能需要更完整的数据库
            const tarotCards = [
                {
                    name: "愚人",
                    image: "images/00愚者.jpg",
                    upright: {
                        meaning: "新的开始、冒险、自由、纯真",
                        answer: "maybe",
                        explanation: "愚人牌代表新的开始和未知的旅程。对于您的问题，这张牌暗示情况尚未确定，正在展开中。建议您保持开放的心态，准备接受新的可能性。现在可能还不是做出最终决定的时候，需要更多探索和体验。"
                    },
                    reversed: {
                        meaning: "鲁莽、冒险、愚蠢的选择",
                        answer: "no",
                        explanation: "逆位的愚人牌警示您可能正在做出未经深思熟虑的决定。对于您的问题，这张牌建议现在不是采取行动的好时机。重新评估您的计划，确保您不会因为冲动或缺乏准备而陷入困境。停下来思考更明智的方向。"
                    }
                },
                {
                    name: "魔术师",
                    image: "images/01魔术师.jpg",
                    upright: {
                        meaning: "创造力、技能、意志力、自信",
                        answer: "yes",
                        explanation: "魔术师牌象征着掌握自己命运的能力和创造性力量。对于您的问题，这张牌给出明确的肯定回答。您拥有成功所需的一切工具和资源，只需专注于目标并运用您的技能和才华。现在是采取行动的理想时机。"
                    },
                    reversed: {
                        meaning: "欺骗、操纵、未使用的才能",
                        answer: "no",
                        explanation: "逆位的魔术师牌暗示可能存在欺骗或自我怀疑。对于您的问题，这张牌建议保持警惕，不要轻信表面现象。您可能没有充分利用自己的潜力，或者被错误的信息所误导。现在不是前进的好时机，需要重新审视您的意图和方法。"
                    }
                },
                {
                    name: "女祭司",
                    image: "images/02女祭祀.jpg",
                    upright: {
                        meaning: "直觉、内在智慧、神秘、潜意识",
                        answer: "maybe",
                        explanation: "女祭司牌代表深刻的内在智慧和直觉力量。对于您的问题，这张牌提示您倾听内心的声音，答案可能尚未完全显现。现在是沉思和反省的时期，而不是急于行动的时刻。静待更多信息浮现，信任您的直觉指引。"
                    },
                    reversed: {
                        meaning: "秘密、被隐藏的信息、忽视直觉",
                        answer: "no",
                        explanation: "逆位的女祭司牌警示您可能忽略了重要的内在声音或信号。对于您的问题，这张牌建议不要现在做决定，因为您可能没有掌握全部信息。有些关键事实可能被隐藏或被您忽视。需要更深入地探索和反思，避免仓促行动。"
                    }
                },
                {
                    name: "星星",
                    image: "images/17星星.jpg",
                    upright: {
                        meaning: "希望、信念、灵感、平静、更新",
                        answer: "yes",
                        explanation: "星星牌是希望与启示的象征。这张牌出现在您的是否占卜中，表明宇宙正在向您传递积极的信号。它代表着更新、希望和内在指引，暗示您正走在正确的道路上。现在是相信自己并前进的好时机，宇宙正在为您指明方向。"
                    },
                    reversed: {
                        meaning: "失望、悲观、缺乏信心",
                        answer: "no",
                        explanation: "逆位的星星牌暗示您可能正经历着信心的低谷或感到失望。对于您的问题，这张牌建议现在不是采取行动的好时机。您需要重新找回希望和信念，避免以悲观的态度做决定。等待内心的光明再次浮现，再考虑下一步行动。"
                    }
                },
                {
                    name: "世界",
                    image: "images/21世界.jpg",
                    upright: {
                        meaning: "完成、成就、旅行、和谐",
                        answer: "yes",
                        explanation: "世界牌代表着完成、成功和圆满。对于您的问题，这张牌给出一个强有力的肯定回答。您已经达到了一个重要的里程碑，现在是收获成果的时候。所有元素都已就位，宇宙正在支持您的决定。勇敢前进，这是您命中注定的道路。"
                    },
                    reversed: {
                        meaning: "未完成、延迟、阻碍",
                        answer: "maybe",
                        explanation: "逆位的世界牌暗示您的旅程可能尚未完成。对于您的问题，这张牌表明情况正在发展，但还有一些未解决的问题需要关注。虽然方向是正确的，但时机可能还不成熟。建议您耐心等待，完成必要的准备工作，解决剩余的障碍后再前进。"
                    }
                }
            ];
            
            // 随机选择塔罗牌
            function getRandomCard() {
                const randomIndex = Math.floor(Math.random() * tarotCards.length);
                const isUpright = Math.random() > 0.5;
                
                return {
                    ...tarotCards[randomIndex],
                    orientation: isUpright ? 'upright' : 'reversed'
                };
            }
            
            // 获取URL参数
            const urlParams = new URLSearchParams(window.location.search);
            const question = urlParams.get('q');
            
            // 设置问题文本
            if (question) {
                document.getElementById('resultQuestion').textContent = `您的问题：${decodeURIComponent(question)}`;
            }
            
            // 设置当前日期和时间
            const now = new Date();
            const dateOptions = { year: 'numeric', month: 'long', day: 'numeric', hour: '2-digit', minute: '2-digit' };
            document.getElementById('resultDate').textContent = now.toLocaleDateString('zh-CN', dateOptions);
            
            // 抽取塔罗牌
            const selectedCard = getRandomCard();
            const cardData = selectedCard.orientation === 'upright' ? selectedCard.upright : selectedCard.reversed;
            
            // 卡牌翻转动画
            const tarotCard = document.getElementById('tarotCard');
            setTimeout(() => {
                tarotCard.classList.add('flipped');
                
                // 显示卡牌信息
                setTimeout(() => {
                    document.getElementById('cardImage').src = selectedCard.image;
                    document.getElementById('cardName').textContent = selectedCard.name;
                    document.getElementById('cardOrientation').textContent = selectedCard.orientation === 'upright' ? '正位' : '逆位';
                    
                    // 设置回答和解释
                    const answerResult = document.getElementById('answerResult');
                    answerResult.textContent = cardData.answer === 'yes' ? '是' : (cardData.answer === 'no' ? '否' : '需视情况而定');
                    answerResult.className = `answer-result answer-${cardData.answer}`;
                    
                    document.getElementById('explanationText').textContent = cardData.explanation;
                }, 500);
            }, 1000);
            
            // 保存结果按钮点击事件
            document.getElementById('saveResult').addEventListener('click', function() {
                alert('结果已保存！（模拟功能）');
            });
            
            // 分享按钮点击事件
            document.getElementById('shareResult').addEventListener('click', function() {
                alert('分享功能已激活！（模拟功能）');
            });
        });
    </script>
</body>
</html> 
